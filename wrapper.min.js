(()=>{let t=document.createElement("script");t.src="https://tokenization.develop.accept.blue/tokenization/v0.2",t.id="_iFrame",document.head.appendChild(t)})();const _dataAttributeType="value",_getAndSet=t=>{Object.entries(t).forEach(t=>{let e=document.getElementById(t[0]);(t[1].submit||t[1].text)&&(t[1].submit?e.submit():e.textContent=t[1].value),e.setAttribute("value",t[1].value)})};class HostedIFrame{cardForm;constructor(t,e,r){this.tokenSourceKey=t,this.iframeMount=`#${e}`,this.btnMount=`${r}`}init(){return this._onLoad(()=>{this.cardForm=new window.HostedTokenization(this.tokenSourceKey).create("card-form").mount(this.iframeMount)}),this}submit(t){return this._clicked(this.btnMount,()=>{let e=this._resultMount,r=this._errorMount;this.cardForm.getNonceToken().then(r=>{e(r,t.form,t.token,t.expiryMonth,t.expiryYear,t.cardType,t.last4)}).catch(e=>{let n=(""+e).replace("Error: ","");throw r(t.mountError,n,t.textContent),Error(n)})}),this}styles(t){return this._onLoad(()=>this.cardForm.setStyles(t)),this}_errorMount(t,e,r=!1){_getAndSet({[t]:{value:e,text:r}})}_resultMount(t,e,r,n,o,a,i){_getAndSet({[r]:{value:t.nonce},[n]:{value:t.expiryMonth},[o]:{value:t.expiryYear},[a]:{value:t.cardType},[i]:{value:t.last4},[e]:{submit:!0}})}_onLoad(t){window.addEventListener("load",t)}_clicked(t,e){document.getElementById(t).addEventListener("click",e)}_VerifyAndSave(){}Charge(){}Refund(){}_ajaxCall(){}}
