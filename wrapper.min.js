function charge(e){return new Promise(function(t,n){$(document).ready(function(){$.ajax({url:"/api/transactions/sourcecharge",contentType:"application/json",data:JSON.stringify(e),type:"POST",success:function(e){t(e)},error:function(e){n(e)}})})})}(()=>{let e=document.createElement("script");e.src="https://tokenization.develop.accept.blue/tokenization/v0.2",e.id="_iFrame",document.head.appendChild(e)})();class HostedIFrame{cardForm;constructor(e,t){this.tokenSourceKey=e,this.iframeMount=`#${t}`,this._onLoad(()=>{this.cardForm=new window.HostedTokenization(this.tokenSourceKey).create("card-form").mount(this.iframeMount)})}submit(e={}){var t=this;return new Promise(function(n,o){t.cardForm.getNonceToken().then(t=>{let r={Name:e.Name,Avs_Address:e.Avs_Address,Avs_Zip:e.Avs_Zip,Software:e.Software,Source:"nonce-"+t.nonce,Expiry_Month:t.expiryMonth,Expiry_Year:t.expiryYear};$.ajax({url:"/api/transactions/sourceverification",contentType:"application/json",data:JSON.stringify(r),type:"POST",success:function(e){n(e)},error:function(e){o(e)}})}).catch(e=>{o(e)})})}styles(e){return this._onLoad(()=>this.cardForm.setStyles(e)),this}_onLoad(e){window.addEventListener("load",e)}}
